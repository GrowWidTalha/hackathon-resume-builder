<!DOCTYPE html>
<html lang="en">
    <head>
        <meta charset="UTF-8" />
        <meta name="viewport" content="width=device-width, initial-scale=1.0" />
        <title>Resume Builder</title>
        <link rel="stylesheet" href="./css/style.css" />
        <link
            rel="stylesheet"
            href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.0.0-beta3/css/all.min.css"
        />
    </head>
    <body>
        <img src="" alt="" />
        <nav class="navbar">
            <div class="navbar-brand" contenteditable="true">
                Resume Builder
            </div>
            <div>
                <button id="toggleForm" class="toggle-button">
                    Toggle Edit Form
                </button>
                <button id="showDialogButton" class="toggle-button">
                    Generate
                </button>
            </div>
        </nav>
        <!-- <button id="openTemplateDialogButton">Select Template</button> -->

        <div class="main-container">
            <div class="flex-container">
                <div id="form" class="container edit-form form-container">
                    <h2>Edit Resume</h2>
                    <form id="resumeForm">
                        <div class="color-input-group">
                            <label for="color">Color:</label>
                            <input
                                type="color"
                                class="color-input"
                                name="color"
                                id="color"
                            />
                        </div>
                        <div class="form-section">
                            <h3 class="section-toggle">
                                Basic Information
                                <i class="fas fa-chevron-down"></i>
                            </h3>
                            <div class="section-content">
                                <div class="input-group">
                                    <label for="profilePicture"
                                        >Profile Picture:</label
                                    >
                                    <input
                                        type="file"
                                        id="profilePicture"
                                        name="profilePicture"
                                        accept="image/*"
                                    />
                                </div>
                                <div class="input-group">
                                    <label for="name">Name:</label>
                                    <input
                                        type="text"
                                        id="name"
                                        name="name"
                                        required
                                        minlength="2"
                                        maxlength="50"
                                    />
                                </div>
                                <div class="input-group">
                                    <label for="profession">Profession:</label>
                                    <input
                                        type="text"
                                        id="profession"
                                        name="profession"
                                        required
                                        minlength="2"
                                        maxlength="50"
                                    />
                                </div>
                                <div class="input-group">
                                    <label for="email">Email:</label>
                                    <input
                                        type="email"
                                        id="email"
                                        name="email"
                                        required
                                    />
                                </div>
                                <div class="input-group">
                                    <label for="phone">Phone:</label>
                                    <input
                                        type="tel"
                                        id="phone"
                                        name="phone"
                                        pattern="[0-9]{11}"
                                        title="Phone number must be 10 digits"
                                        required
                                    />
                                </div>
                                <div class="input-group">
                                    <label for="location">Location:</label>
                                    <input
                                        type="text"
                                        id="location"
                                        name="location"
                                        required
                                        minlength="2"
                                        maxlength="100"
                                    />
                                </div>
                                <div class="input-group">
                                    <label for="website">Website:</label>
                                    <input
                                        type="url"
                                        id="website"
                                        name="website"
                                        required
                                    />
                                </div>
                                <div class="input-group">
                                    <label for="summary"
                                        >Professional Summary:</label
                                    >
                                    <textarea
                                        id="summary"
                                        name="summary"
                                        required
                                        minlength="10"
                                        maxlength="1000"
                                    ></textarea>
                                </div>
                            </div>
                        </div>

                        <div class="form-section">
                            <h3 class="section-toggle">
                                Education <i class="fas fa-chevron-down"></i>
                            </h3>
                            <div class="section-content">
                                <div class="input-group">
                                    <label for="educationDegree">Degree:</label>
                                    <input
                                        type="text"
                                        id="educationDegree"
                                        name="educationDegree"
                                        required
                                        minlength="2"
                                        maxlength="100"
                                    />
                                </div>
                                <div class="input-group">
                                    <label for="educationSchool">School:</label>
                                    <input
                                        type="text"
                                        id="educationSchool"
                                        name="educationSchool"
                                        required
                                        minlength="2"
                                        maxlength="100"
                                    />
                                </div>
                                <div class="input-group">
                                    <label for="educationDate">Date:</label>
                                    <input
                                        type="date"
                                        id="educationDate"
                                        name="educationDate"
                                        required
                                        pattern="\d{4}-\d{2}-\d{2}"
                                        title="Date must be in YYYY-MM-DD format"
                                    />
                                </div>
                            </div>
                        </div>

                        <div class="form-section">
                            <h3 class="section-toggle">
                                Work Experience
                                <i class="fas fa-chevron-down"></i>
                            </h3>
                            <div class="section-content">
                                <div id="workExperienceInputs"></div>
                                <button
                                    type="button"
                                    onclick="addExperience()"
                                    class="add-button"
                                >
                                    Add Experience
                                </button>
                            </div>
                        </div>

                        <div class="form-section">
                            <h3 class="section-toggle">
                                Skills <i class="fas fa-chevron-down"></i>
                            </h3>
                            <div class="section-content">
                                <div id="skillsInputs"></div>
                                <button
                                    type="button"
                                    onclick="addSkill()"
                                    class="add-button"
                                >
                                    Add Skill
                                </button>
                            </div>
                        </div>

                        <button type="submit" class="submit-button">
                            Update Resume
                        </button>
                    </form>
                </div>
                <div class="resume-wrapper">
                    <div id="resume" class="container"></div>
                </div>
            </div>
        </div>
        <div id="dialog" class="modal">
            <div class="modal-content">
                <span id="closeDialog" class="close">&times;</span>
                <div id="modalContent">
                    <button id="generatePDF" class="button">
                        Generate and Upload PDF
                    </button>
                    <div id="loader" class="loader" style="display: none"></div>
                    <input type="file" id="fileInput" style="display: none" />
                    <button id="uploadButton" style="display: none">
                        Upload PDF
                    </button>
                    <input
                        type="text"
                        id="shareableLink"
                        readonly
                        style="display: none"
                    />
                    <button id="copyLinkButton" style="display: none">
                        Copy Link
                    </button>
                    <div id="uploadStatus" style="display: none"></div>
                </div>
            </div>
        </div>
        <!-- Template Selection Dialog -->

        <script src="https://cdn.jsdelivr.net/npm/appwrite@16.0.0"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/html2canvas/1.4.1/html2canvas.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jspdf@latest"></script>
        <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
        <script src="./js/main.js" type="module"></script>
        
    </body>
</html>
